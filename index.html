<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Tyneceploh Gallery</title>
<style>
  body { font-family: Arial, sans-serif; padding: 20px; }
  .gallery { display: flex; flex-wrap: wrap; gap: 10px; }
  .gallery-item { text-align: center; }
  .gallery img { width: 200px; height: 150px; object-fit: cover; border: 1px solid #ccc; }
  #loading { display: none; margin-bottom: 10px; font-weight: bold; }
</style>
</head>
<body>

<h2>Gallery</h2>

<!-- Loading Indicator -->
<p id="loading">Loading gallery...</p>

<!-- Gallery Display -->
<div class="gallery" id="galleryContainer"></div>

<script>
const SCRIPT_URL = 'https://script.google.com/macros/s/AKfycbw9P_XOd4k498l0e4WDbFqAF1asb2u4sRj_uX2B-2S1MvyWOeWQZqxy8dr13mPOdNOeuw/exec';

function showLoading(show) {
  document.getElementById('loading').style.display = show ? 'block' : 'none';
}

// Load gallery images
async function loadGallery() {
  showLoading(true);
  const res = await fetch(`${SCRIPT_URL}?action=getGallery`);
  const data = await res.json();
  const container = document.getElementById('galleryContainer');
  container.innerHTML = '';
  showLoading(false);

  if(data.success && data.gallery.length > 0) {
    data.gallery.forEach(item => {
      const div = document.createElement('div');
      div.className = 'gallery-item';
      const img = document.createElement('img');
      img.src = item.URL;
      img.alt = item.Caption || 'Gallery Image';
      const caption = document.createElement('p');
      caption.textContent = item.Caption || '';
      div.appendChild(img);
      div.appendChild(caption);
      container.appendChild(div);
    });
  } else {
    container.innerHTML = '<p>No images uploaded yet.</p>';
  }
}

// Initial load
loadGallery();
</script>

</body>
</html>
